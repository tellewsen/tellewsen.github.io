import"../chunks/CWj6FrbW.js";import"../chunks/B_X2LYzZ.js";import{p as at,aw as st,ax as et,f as d,s as o,au as w,g as t,a as I,b as nt,c as v,m as A,e as j,r as c,u as p,t as U,n as ot}from"../chunks/Cl6sk6vj.js";import{s as g}from"../chunks/Bg9ot33m.js";import{i as D}from"../chunks/CUaV5KzQ.js";import{r as it}from"../chunks/BWg1xyEq.js";import{b as pt}from"../chunks/Bxas-udU.js";import{i as lt}from"../chunks/CoUaJ0iC.js";var ft=d('<p style="color: red;"> </p>'),vt=d("<p><strong>Broadcast:</strong> </p> <p><strong>First Usable:</strong> </p> <p><strong>Last Usable:</strong> </p> <p><strong>Usable Count:</strong> </p>",1),ct=d("<p><strong>Range:</strong> </p> <p><em>Note: IPv6 address ranges are massive; count not shown.</em></p>",1),ut=d("<p><strong>Version:</strong> </p> <p><strong>Input:</strong> </p> <p><strong>Network:</strong> </p> <!>",1),gt=d('<div class="output svelte-v6hk57"><!></div>'),_t=d('<h2>IP Range Calculator (IPv4 & IPv6)</h2> <label>IP/CIDR: <input placeholder="e.g. 192.168.1.10/24 or 2001:db8::/64" class="svelte-v6hk57"/></label> <!>',1);function Ut(F,L){at(L,!1);let _=A("192.168.1.10/24"),r=A(null);function V(s){return s.split(".").reduce((a,n)=>(a<<8)+parseInt(n),0)>>>0}function k(s){return[s>>>24&255,s>>>16&255,s>>>8&255,s&255].join(".")}function q(s,a){const n=V(s),e=a===0?0:4294967295<<32-a>>>0,l=n&e,i=l|~e>>>0,f=a===32?0:a===31?2:2**(32-a)-2,u=a>=31?l:l+1,x=a>=31?i:i-1;return{version:4,ip:s,cidr:a,network:k(l),broadcast:k(i),firstUsable:k(u),lastUsable:k(x),usableCount:f}}function z(s){var f,u;const a=s.split("::"),n=((f=a[0])==null?void 0:f.split(":"))??[],e=((u=a[1])==null?void 0:u.split(":"))??[],l=8-(n.length+e.length);return[...n,...Array(l).fill("0"),...e].map(x=>x.padStart(4,"0")).join(":")}function G(s){return z(s).split(":").reduce((a,n)=>(a<<16n)+BigInt(`0x${n}`),0n)}function R(s){const a=[];for(let n=0;n<8;n++){const e=BigInt((7-n)*16);a.push((s>>e&0xffffn).toString(16))}return a.join(":").replace(/(:0)+(:|$)/,"::")}function H(s,a){const n=G(s),e=(1n<<128n)-(1n<<BigInt(128-a)),l=n&e,i=l|~e&(1n<<128n)-1n;return{version:6,ip:s,cidr:a,network:R(l),firstUsable:R(l),lastUsable:R(i)}}function J(s){const[a,n]=s.split("/"),e=parseInt(n);if(a.includes(":")){if(e<0||e>128)throw new Error("Invalid CIDR");return H(a,e)}else{if(e<0||e>32)throw new Error("Invalid CIDR");return q(a,e)}}st(()=>t(_),()=>{if(t(_).includes("/"))try{j(r,J(t(_)))}catch{j(r,{ip:t(_),cidr:0,version:4,network:"",firstUsable:"",lastUsable:"",error:"Invalid input"})}}),et(),lt();var S=_t(),$=o(w(S),2),E=o(v($));it(E),c($);var K=o($,2);{var M=s=>{var a=gt(),n=v(a);{var e=i=>{var f=ft(),u=v(f,!0);c(f),U(()=>g(u,(t(r),p(()=>t(r).error)))),I(i,f)},l=i=>{var f=ut(),u=w(f),x=o(v(u));c(u);var C=o(u,2),O=o(v(C));c(C);var B=o(C,2),Q=o(v(B));c(B);var W=o(B,2);{var X=m=>{var h=vt(),b=w(h),P=o(v(b));c(b);var y=o(b,2),Z=o(v(y));c(y);var T=o(y,2),tt=o(v(T));c(T);var N=o(T,2),rt=o(v(N));c(N),U(()=>{g(P,` ${t(r),p(()=>t(r).broadcast)??""}`),g(Z,` ${t(r),p(()=>t(r).firstUsable)??""}`),g(tt,` ${t(r),p(()=>t(r).lastUsable)??""}`),g(rt,` ${t(r),p(()=>t(r).usableCount)??""}`)}),I(m,h)},Y=m=>{var h=ct(),b=w(h),P=o(v(b));c(b),ot(2),U(()=>g(P,` ${t(r),p(()=>t(r).firstUsable)??""} â€“ ${t(r),p(()=>t(r).lastUsable)??""}`)),I(m,h)};D(W,m=>{t(r),p(()=>t(r).version===4)?m(X):m(Y,!1)})}U(()=>{g(x,` IPv${t(r),p(()=>t(r).version)??""}`),g(O,` ${t(r),p(()=>t(r).ip)??""}/${t(r),p(()=>t(r).cidr)??""}`),g(Q,` ${t(r),p(()=>t(r).network)??""}`)}),I(i,f)};D(n,i=>{t(r),p(()=>t(r).error)?i(e):i(l,!1)})}c(a),I(s,a)};D(K,s=>{t(r)&&s(M)})}pt(E,()=>t(_),s=>j(_,s)),I(F,S),nt()}export{Ut as component};
