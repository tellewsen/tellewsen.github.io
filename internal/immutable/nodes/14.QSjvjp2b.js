import"../chunks/CWj6FrbW.js";import"../chunks/BDApSGBO.js";import{o as te,w as H}from"../chunks/C-2M8tel.js";import{p as ie,f as S,s as w,av as O,a as B,b as oe,c as y,g as p,m as ne,aw as P,e as se,r as _,n as re,t as le}from"../chunks/DlJV1d2_.js";import{s as W}from"../chunks/Bpg_D06t.js";import{i as ae}from"../chunks/xZvNWJia.js";import{b as he}from"../chunks/bXYlIcg8.js";import{i as de}from"../chunks/D0gpAuLr.js";import{s as ce,a as $}from"../chunks/ht2JTxSC.js";var ge=S("<div><strong>BMI:</strong> </div> <div><strong>Height:</strong> </div> <div><strong>Weight:</strong> </div>",1),ve=S("<div>Hover over chart</div>"),fe=S(`<title>BMI calculator</title> <h2>BMI calculator</h2> <div style="position: relative; width: 100%; max-width: 900px;"><canvas class="svelte-c2dhon"></canvas> <div class="hover-box svelte-c2dhon"><!></div> <p>The calculator uses the formula and thresholds described in the <a href="https://en.wikipedia.org/wiki/Body_mass_index">Wikipedia article</a> for adults.</p> <p>Please remember that BMI is just a number to give you an idea if your weight may be unhealthy.
		It doesn't tell the whole story, and I only made this thing because I wanted to see how you can
		draw plots without using libraries. I highly reccommend reading the wikipedia article linked
		above, as it has some really interesting points around the limitations of BMI.</p> <p>I had never heard of the <a href="https://en.wikipedia.org/wiki/Corpulence_index">Corpulence index</a>, which seems to be a much better measure since it scales by height cubed like you'd expect for
		people living in three dimensions. Maybe this page shows a curpulence index calculator the next
		time you visit?</p></div>`,1);function ke(L,X){ie(X,!1);const[I,Y]=ce(),x=()=>$(M,"$hoverBMI",I),j=()=>$(k,"$hoverHeight",I),N=()=>$(F,"$hoverWeight",I);let h=ne(),m=null,u=0,c=0;const i=50,g=[140,200],v=[40,140],M=H(null),k=H(null),F=H(null);function T(e,o){const t=e/100;return o/(t*t)}function U(e){return e<18.5?"#ADD8E6":e<25?"#90EE90":e<30?"#FFD580":"#FF7F7F"}function q(e,o,t){const d=o-2*i,r=t-2*i;e.strokeStyle="rgba(255, 255, 255, 0.5)",e.fillStyle="rgba(255, 255, 255, 0.87)",e.lineWidth=1,e.font="12px sans-serif",e.textAlign="left";for(let n=0;n<=10;n++){const l=v[0]+n/10*(v[1]-v[0]),s=t-i-n/10*r;e.beginPath(),e.moveTo(i-5,s),e.lineTo(i,s),e.stroke(),e.fillText(`${Math.round(l)} kg`,5,s+4)}for(let n=0;n<=10;n++){const l=g[0]+n/10*(g[1]-g[0]),s=i+n/10*d;e.beginPath(),e.moveTo(s,t-i),e.lineTo(s,t-i+5),e.stroke(),e.fillText(`${Math.round(l)} cm`,s-15,t-i+20)}e.save(),e.translate(15,t/2),e.rotate(-Math.PI/2),e.textAlign="center",e.fillText("Weight (kg)",0,0),e.restore(),e.textAlign="center",e.fillText("Height (cm)",o/2,t-10)}function G(e,o,t){const l=[{label:"Underweight (<18.5)",color:"#ADD8E6"},{label:"Normal (18.5–24.9)",color:"#90EE90"},{label:"Overweight (25–29.9)",color:"#FFD580"},{label:"Obese (30+)",color:"#FF7F7F"}],s=180,a=l.length*22+10*2,f=o-s-i,b=i;e.fillStyle="rgba(20, 20, 20, 0.85)",e.fillRect(f,b,s,a),e.strokeStyle="#555",e.strokeRect(f,b,s,a),e.font="12px sans-serif",e.textAlign="left",e.textBaseline="middle",l.forEach((C,ee)=>{const D=b+10+ee*22;e.fillStyle=C.color,e.fillRect(f+10,D,15,15),e.fillStyle="rgba(255, 255, 255, 0.87)",e.fillText(C.label,f+10+15+6,D+15/2)})}function J(){if(!m)return;m.clearRect(0,0,u,c);const e=u-2*i,o=c-2*i;for(let t=0;t<o;t++){const d=v[0]+(v[1]-v[0])*(t/o);for(let r=0;r<e;r++){const n=g[0]+(g[1]-g[0])*(r/e),l=T(n,d);m.fillStyle=U(l),m.fillRect(i+r,c-i-t,1,1)}}q(m,u,c),G(m,u)}function K(e){const o=p(h).getBoundingClientRect(),t=e.clientX-o.left,d=e.clientY-o.top,r=u-2*i,n=c-2*i;if(t<i||t>u-i||d<i||d>c-i){M.set(null),k.set(null),F.set(null);return}const l=(t-i)/r,s=(c-i-d)/n,a=g[0]+l*(g[1]-g[0]),f=v[0]+s*(v[1]-v[0]),b=T(a,f);M.set(b),k.set(a),F.set(f)}te(()=>{const e=new ResizeObserver(()=>{u=p(h).clientWidth,c=p(h).clientHeight,P(h,p(h).width=u),P(h,p(h).height=c),m=p(h).getContext("2d"),J()});return e.observe(p(h)),p(h).addEventListener("mousemove",K),()=>{e.disconnect()}}),de();var R=fe(),E=w(O(R),4),z=y(E);he(z,e=>se(h,e),()=>p(h));var A=w(z,2),Q=y(A);{var V=e=>{var o=ge(),t=O(o),d=w(y(t));_(t);var r=w(t,2),n=w(y(r));_(r);var l=w(r,2),s=w(y(l));_(l),le((a,f,b)=>{W(d,` ${a??""}`),W(n,` ${f??""} cm`),W(s,` ${b??""} kg`)},[()=>x().toFixed(1),()=>{var a;return(a=j())==null?void 0:a.toFixed(0)},()=>{var a;return(a=N())==null?void 0:a.toFixed(0)}]),B(e,o)},Z=e=>{var o=ve();B(e,o)};ae(Q,e=>{x()!==null?e(V):e(Z,!1)})}_(A),re(6),_(E),B(L,R),oe(),Y()}export{ke as component};
