import"../chunks/CWj6FrbW.js";import"../chunks/BDApSGBO.js";import{p as at,ax as st,ay as et,f as d,s as o,av as U,g as t,a as b,b as nt,c as v,e as j,m as A,r as c,u as l,t as w,n as ot}from"../chunks/DlJV1d2_.js";import{s as g}from"../chunks/Bpg_D06t.js";import{i as D}from"../chunks/xZvNWJia.js";import{r as it}from"../chunks/CJZnkDTd.js";import{a as lt}from"../chunks/7nN6zwsh.js";import{i as pt}from"../chunks/D0gpAuLr.js";var ft=d('<p style="color: red;"> </p>'),vt=d("<p><strong>Broadcast:</strong> </p> <p><strong>First Usable:</strong> </p> <p><strong>Last Usable:</strong> </p> <p><strong>Usable Count:</strong> </p>",1),ct=d("<p><strong>Range:</strong> </p> <p><em>Note: IPv6 address ranges are massive; count not shown.</em></p>",1),ut=d("<p><strong>Version:</strong> </p> <p><strong>Input:</strong> </p> <p><strong>Network:</strong> </p> <!>",1),gt=d('<div class="output svelte-v6hk57"><!></div>'),_t=d('<title>IP Range Calculator (IPv4 & IPv6)</title> <h2>IP Range Calculator (IPv4 & IPv6)</h2> <label>IP/CIDR: <input placeholder="e.g. 192.168.1.10/24 or 2001:db8::/64" class="svelte-v6hk57"/></label> <!>',1);function wt(F,L){at(L,!1);let _=A("192.168.1.10/24"),r=A(null);function V(s){return s.split(".").reduce((a,n)=>(a<<8)+parseInt(n),0)>>>0}function k(s){return[s>>>24&255,s>>>16&255,s>>>8&255,s&255].join(".")}function q(s,a){const n=V(s),e=a===0?0:4294967295<<32-a>>>0,p=n&e,i=p|~e>>>0,f=a===32?0:a===31?2:2**(32-a)-2,u=a>=31?p:p+1,x=a>=31?i:i-1;return{version:4,ip:s,cidr:a,network:k(p),broadcast:k(i),firstUsable:k(u),lastUsable:k(x),usableCount:f}}function z(s){var f,u;const a=s.split("::"),n=((f=a[0])==null?void 0:f.split(":"))??[],e=((u=a[1])==null?void 0:u.split(":"))??[],p=8-(n.length+e.length);return[...n,...Array(p).fill("0"),...e].map(x=>x.padStart(4,"0")).join(":")}function G(s){return z(s).split(":").reduce((a,n)=>(a<<16n)+BigInt(`0x${n}`),0n)}function P(s){const a=[];for(let n=0;n<8;n++){const e=BigInt((7-n)*16);a.push((s>>e&0xffffn).toString(16))}return a.join(":").replace(/(:0)+(:|$)/,"::")}function H(s,a){const n=G(s),e=(1n<<128n)-(1n<<BigInt(128-a)),p=n&e,i=p|~e&(1n<<128n)-1n;return{version:6,ip:s,cidr:a,network:P(p),firstUsable:P(p),lastUsable:P(i)}}function J(s){const[a,n]=s.split("/"),e=parseInt(n);if(a.includes(":")){if(e<0||e>128)throw new Error("Invalid CIDR");return H(a,e)}else{if(e<0||e>32)throw new Error("Invalid CIDR");return q(a,e)}}st(()=>t(_),()=>{if(t(_).includes("/"))try{j(r,J(t(_)))}catch{j(r,{ip:t(_),cidr:0,version:4,network:"",firstUsable:"",lastUsable:"",error:"Invalid input"})}}),et(),pt();var S=_t(),R=o(U(S),4),E=o(v(R));it(E),c(R);var K=o(R,2);{var M=s=>{var a=gt(),n=v(a);{var e=i=>{var f=ft(),u=v(f,!0);c(f),w(()=>g(u,(t(r),l(()=>t(r).error)))),b(i,f)},p=i=>{var f=ut(),u=U(f),x=o(v(u));c(u);var C=o(u,2),O=o(v(C));c(C);var $=o(C,2),Q=o(v($));c($);var W=o($,2);{var X=m=>{var h=vt(),I=U(h),y=o(v(I));c(I);var B=o(I,2),Z=o(v(B));c(B);var T=o(B,2),tt=o(v(T));c(T);var N=o(T,2),rt=o(v(N));c(N),w(()=>{g(y,` ${t(r),l(()=>t(r).broadcast)??""}`),g(Z,` ${t(r),l(()=>t(r).firstUsable)??""}`),g(tt,` ${t(r),l(()=>t(r).lastUsable)??""}`),g(rt,` ${t(r),l(()=>t(r).usableCount)??""}`)}),b(m,h)},Y=m=>{var h=ct(),I=U(h),y=o(v(I));c(I),ot(2),w(()=>g(y,` ${t(r),l(()=>t(r).firstUsable)??""} â€“ ${t(r),l(()=>t(r).lastUsable)??""}`)),b(m,h)};D(W,m=>{t(r),l(()=>t(r).version===4)?m(X):m(Y,!1)})}w(()=>{g(x,` IPv${t(r),l(()=>t(r).version)??""}`),g(O,` ${t(r),l(()=>t(r).ip)??""}/${t(r),l(()=>t(r).cidr)??""}`),g(Q,` ${t(r),l(()=>t(r).network)??""}`)}),b(i,f)};D(n,i=>{t(r),l(()=>t(r).error)?i(e):i(p,!1)})}c(a),b(s,a)};D(K,s=>{t(r)&&s(M)})}lt(E,()=>t(_),s=>j(_,s)),b(F,S),nt()}export{wt as component};
